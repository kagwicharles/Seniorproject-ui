"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var n,e=require("react/jsx-runtime"),r=require("react"),t=require("styled-components"),i=(n=t)&&"object"==typeof n&&"default"in n?n.default:n,o=function(){return o=Object.assign||function(n){for(var e,r=1,t=arguments.length;r<t;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n},o.apply(this,arguments)};function a(n,e){return Object.defineProperty?Object.defineProperty(n,"raw",{value:e}):n.raw=e,n}function s(n){var r=n.types,t=n.minSize,i=n.maxSize;if(r){var a=r.toString(),s="";return i&&(s+="size >= "+i+", "),t&&(s+="size <= "+t+", "),e.jsx("span",o({title:s+"types: "+a,className:"file-types"},{children:a}),void 0)}return null}var l=0;function d(){return e.jsxs("svg",o({width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[e.jsx("path",{d:"M5.33317 6.66667H22.6665V16H25.3332V6.66667C25.3332 5.196 24.1372 4 22.6665 4H5.33317C3.8625 4 2.6665 5.196 2.6665 6.66667V22.6667C2.6665 24.1373 3.8625 25.3333 5.33317 25.3333H15.9998V22.6667H5.33317V6.66667Z",fill:"#0658C2"},void 0),e.jsx("path",{d:"M10.6665 14.6667L6.6665 20H21.3332L15.9998 12L11.9998 17.3333L10.6665 14.6667Z",fill:"#0658C2"},void 0),e.jsx("path",{d:"M25.3332 18.6667H22.6665V22.6667H18.6665V25.3333H22.6665V29.3333H25.3332V25.3333H29.3332V22.6667H25.3332V18.6667Z",fill:"#0658C2"},void 0)]}),void 0)}var p,c,u,f,v,x=function(n){return n/1e3/1e3},h=function(n){return void 0===n?"":n.map((function(n){return"."+n.toLowerCase()})).join(",")},g=t.css(p||(p=a(["\n  display: flex;\n  align-items: center;\n  min-width: 322px;\n  max-width: 508px;\n  height: 48px;\n  border: dashed 2px ",";\n  padding: 8px 16px 8px 8px;\n  border-radius: 5px;\n  cursor: pointer;\n  flex-grow: 0;\n"],["\n  display: flex;\n  align-items: center;\n  min-width: 322px;\n  max-width: 508px;\n  height: 48px;\n  border: dashed 2px ",";\n  padding: 8px 16px 8px 8px;\n  border-radius: 5px;\n  cursor: pointer;\n  flex-grow: 0;\n"])),"#0658c2"),b=i.label(c||(c=a(["\n  position: relative;\n  ",";\n  &.is-disabled {\n    border: dashed 2px ",";\n    cursor: no-drop;\n    svg {\n      fill: ",";\n      color: ",";\n      path {\n        fill: ",";\n        color: ",";\n      }\n    }\n  }\n  & > input {\n    display: none;\n  }\n"],["\n  position: relative;\n  ",";\n  &.is-disabled {\n    border: dashed 2px ",";\n    cursor: no-drop;\n    svg {\n      fill: ",";\n      color: ",";\n      path {\n        fill: ",";\n        color: ",";\n      }\n    }\n  }\n  & > input {\n    display: none;\n  }\n"])),(function(n){return n.overRide?"":g}),"#666","#666","#666","#666","#666"),m=i.div(u||(u=a(["\n  border: dashed 2px ",";\n  border-radius: 5px;\n  background-color: ",";\n  opacity: 0.5;\n  position: absolute;\n  top: 0;\n  right: 0;\n  left: 0;\n  bottom: 0;\n  & > span {\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translateX(-50%) translateY(-50%);\n  }\n"],["\n  border: dashed 2px ",";\n  border-radius: 5px;\n  background-color: ",";\n  opacity: 0.5;\n  position: absolute;\n  top: 0;\n  right: 0;\n  left: 0;\n  bottom: 0;\n  & > span {\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translateX(-50%) translateY(-50%);\n  }\n"])),"#666","#999"),j=i.div(f||(f=a(["\n  display: flex;\n  justify-content: space-between;\n  flex-grow: 1;\n  & > span {\n    font-size: 12px;\n    color: ",";\n  }\n  .file-types {\n    overflow: hidden;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n    max-width: 100px;\n  }\n"],["\n  display: flex;\n  justify-content: space-between;\n  flex-grow: 1;\n  & > span {\n    font-size: 12px;\n    color: ",";\n  }\n  .file-types {\n    overflow: hidden;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n    max-width: 100px;\n  }\n"])),(function(n){return n.error?"red":"#666"})),w=i.span(v||(v=a(["\n  font-size: 14px;\n  color: ",";\n  span {\n    text-decoration: underline;\n  }\n"],["\n  font-size: 14px;\n  color: ",";\n  span {\n    text-decoration: underline;\n  }\n"])),"#666"),y=function(n,r,t,i,o){return t?e.jsx("span",{children:"File type/size error, Hovered on types!"},void 0):e.jsx(w,{children:i?e.jsx("span",{children:"Upload disabled"},void 0):n||r?e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"Uploaded Successfully!."},void 0)," Upload another?"]},void 0):e.jsx(e.Fragment,{children:o?e.jsxs(e.Fragment,{children:[e.jsx("span",{children:o.split(" ")[0]},void 0)," ",o.substr(o.indexOf(" ")+1)]},void 0):e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"Upload"},void 0)," or drop a file right here"]},void 0)},void 0)},void 0)};exports.FileUploader=function(n){var t=n.name,i=n.hoverTitle,a=n.types,p=n.handleChange,c=n.classes,u=n.children,f=n.maxSize,v=n.minSize,g=n.file,w=n.onSizeError,z=n.onTypeError,C=n.onSelect,L=n.onDrop,E=n.disabled,H=n.label,S=r.useRef(null),F=r.useRef(null),V=r.useState(!1),k=V[0],D=V[1],O=r.useState(null),P=O[0],R=O[1],T=r.useState(!1),U=T[0],M=T[1],q=function(n){return!!n&&(a&&!function(n,e){var r=n.type.toLocaleLowerCase(),t=r.lastIndexOf("/"),i=r.substring(t+1);return e.map((function(n){return n.toLowerCase()})).includes(i)}(n,a)?(M(!0),z&&z("File type is not supported"),!1):f&&x(n.size)>f?(M(!0),w&&w("File size is too big"),!1):v&&x(n.size)<v?(M(!0),w&&w("File size is too small"),!1):(p&&p(n),R(n),D(!0),M(!1),!0))},Z=function(n){var e=n.labelRef,t=n.inputRef,i=n.handleChanges,o=n.onDrop,a=r.useState(!1),s=a[0],d=a[1],p=r.useCallback((function(){t.current.click()}),[t]),c=r.useCallback((function(n){n.preventDefault(),n.stopPropagation(),l++,n.dataTransfer.items&&0!==n.dataTransfer.items.length&&d(!0)}),[]),u=r.useCallback((function(n){n.preventDefault(),n.stopPropagation(),--l>0||d(!1)}),[]),f=r.useCallback((function(n){n.preventDefault(),n.stopPropagation()}),[]),v=r.useCallback((function(n){if(n.preventDefault(),n.stopPropagation(),d(!1),l=0,n.dataTransfer.files&&n.dataTransfer.files.length>0){var e=n.dataTransfer.files[0],r=i(e);o&&r&&o(e),n.dataTransfer.clearData()}}),[i]);return r.useEffect((function(){var n=e.current;return n.addEventListener("click",p),n.addEventListener("dragenter",c),n.addEventListener("dragleave",u),n.addEventListener("dragover",f),n.addEventListener("drop",v),function(){n.removeEventListener("click",p),n.removeEventListener("dragenter",c),n.removeEventListener("dragleave",u),n.removeEventListener("dragover",f),n.removeEventListener("drop",v)}}),[p,c,u,f,v,e]),s}({labelRef:S,inputRef:F,handleChanges:q,onDrop:L});return r.useEffect((function(){g?(D(!0),R(g)):(D(!1),R(null))}),[g]),e.jsxs(b,o({overRide:u,className:(c||"")+" "+(E?"is-disabled":""),ref:S,htmlFor:t},{children:[e.jsx("input",{onChange:function(n){var e=n.target.files[0],r=q(e);C&&r&&C(e),n.target.value=null},accept:h(a),ref:F,type:"file",name:t,disabled:E},void 0),Z&&e.jsx(m,{children:e.jsx("span",{children:i||"Drop Here"},void 0)},void 0),!u&&e.jsxs(e.Fragment,{children:[e.jsx(d,{},void 0),e.jsxs(j,o({error:U},{children:[y(P,k,U,E,H),e.jsx(s,{types:a,minSize:v,maxSize:f},void 0)]}),void 0)]},void 0),u]}),void 0)};
